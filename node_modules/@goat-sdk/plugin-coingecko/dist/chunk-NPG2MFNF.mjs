import{a as o}from"./chunk-YSXGDEY5.mjs";var c=class i{static{o(this,"CoinGeckoAPI")}apiKey;isPro;static API_BASE_URL="https://api.coingecko.com/api/v3";static PRO_API_BASE_URL="https://pro-api.coingecko.com/api/v3";constructor(r,t){this.apiKey=r,this.isPro=t}async request(r,t,e={}){let s=new URL(`${this.isPro?i.PRO_API_BASE_URL:i.API_BASE_URL}/${r}?${this.buildSearchParams(t)}`),a=await fetch(s.toString(),{...e,headers:{...e.headers,[this.isPro?"x-cg-pro-api-key":"x-cg-demo-api-key"]:this.apiKey}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}. URL: ${s.toString()}. Response: ${await a.text()}`);return a.json()}buildSearchParams(r){let t=new URLSearchParams;for(let[e,s]of Object.entries(r))s!==void 0&&t.append(e,s.toString());return t.toString()}};export{c as a};
