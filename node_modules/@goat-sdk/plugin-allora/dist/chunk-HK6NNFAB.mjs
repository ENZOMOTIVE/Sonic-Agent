import{a as s}from"./chunk-YSXGDEY5.mjs";import p from"axios";var l=function(t){return t.BTC="BTC",t.ETH="ETH",t}({}),f=function(t){return t["5m"]="5m",t["8h"]="8h",t}({}),y=function(t){return t.EthereumSepolia="ethereum-11155111",t}({}),n=class{static{s(this,"AlloraAPIClient")}apiKey;apiRoot;constructor(e){this.apiKey=e.apiKey;let a=e.apiRoot||"https://api.upshot.xyz/v2/allora";this.apiRoot=a[a.length-1]==="/"?a.slice(0,a.length-1):a}async fetchAlloraPricePrediction(e,a,o="ethereum-11155111"){let i=`consumer/price/${o}/${e}/${a}`,r=await this.fetchAlloraAPIData(i);if(!r?.data?.inference_data)throw new Error(`API response missing data: ${JSON.stringify(r)}`);return r.data.inference_data}async fetchAlloraAPIData(e){let a=e[0]==="/"?e.slice(1):e,o=`${this.apiRoot}/${a}`,i={"Content-Type":"application/json",Accept:"application/json"};this.apiKey&&(i["x-api-key"]=this.apiKey);let r=await p.get(o,{headers:i});if(r.status>=400)throw new Error(`Allora plugin: error requesting price prediction: url=${o} status=${r.status} body=${JSON.stringify(r.data,null,4)}`);return r.data}};export{l as a,f as b,y as c,n as d};
